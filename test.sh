#!/bin/bash
KEY="-----BEGIN RSA PRIVATE KEY-----
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
-----END RSA PRIVATE KEY-----"

jq -n "{
  source: {
    uri: \"ssh://git@git.work:23/peter/semver-test.git\",
    branch: \"master\",
    private_key: \"$KEY\"
  },
  params: {
    bump: \"patch\"
  }
}" | /opt/resource/in /tmp/t6est

jq -n "{
  source: {
    uri: \"ssh://git@git.work:23/peter/semver-test.git\",
    branch: \"master\",
    name: \"Kalle Karlsson\",
    mail: \"kalle.karlsson@mail.com\",
    private_key: \"$KEY\"
  },
}" | /opt/resource/out /tmp/t6est

jq -n "{
  source: {
    uri: \"ssh://git@git.work:23/peter/semver-test.git\",
    branch: \"master\",
    name: \"Kalle Karlsson\",
    mail: \"kalle.karlsson@mail.com\",
    private_key: \"$KEY\"
  },
}" | /opt/resource/check /tmp/t4est
